{% extends 'base.html' %}

{% block content %}
<div class="card">
  <h1>Dashboard <span class="eco-badge">Eco-Friendly</span></h1>

  {% if user.is_admin_user %}
  <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 2rem; border-radius: 10px; margin: 1rem 0;">
    <h3>Admin Dashboard</h3>
    <p>You have administrative privileges to manage the Re-Ground Exchange platform.</p>
    <div style="margin-top: 1rem;">
      <strong>Admin Features:</strong>
      <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
        <li>Monitor user activities and exchanges</li>
        <li>Manage platform content and users</li>
        <li>Generate sustainability reports</li>
      </ul>
    </div>
  </div>
  {% else %}
  <div style="background: linear-gradient(135deg, #e8f5e8, #c8e6c9); padding: 2rem; border-radius: 10px; margin: 1rem 0;">
    <h3>ğŸŒ Welcome, Eco-Warrior!</h3>
    <p>You're helping reduce UVA's environmental footprint through sustainable exchange.</p>
    <div style="margin-top: 1rem;">
      <strong>Your Impact:</strong>
      <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
        <li>Reduce landfill waste during move-out</li>
        <li>Support circular economy principles</li>
        <li>Build a sustainable UVA community</li>
      </ul>
    </div>
    <a href="{% url 'marketplace:create_item' %}" class="btn-primary" style="margin-top: 1rem;">
      Start Listing Items
    </a>
  </div>
  {% endif %}
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
  <div class="card">
    <h3>ğŸ“¦ Your Listings</h3>
    <p>Manage items you've posted for exchange</p>
    <div style="text-align: center; margin: 1rem 0;">
      <div style="font-size: 2rem; color: #4caf50;">{{ user.items.count }}</div>
      <small>Active Listings</small>
    </div>
    <a href="{% url 'marketplace:my_items' %}" class="btn-primary" style="display: block; text-align: center;">
      View My Listings
    </a>
  </div>

 <div class="card">
  <h3>ğŸ¤ Your Exchanges</h3>
  <p>Track your item exchanges</p>
  <div style="text-align: center; margin: 1rem 0;">
    <div style="font-size: 2rem; color: #4caf50;">{{ completed_count }}</div>
    <small>Completed</small>
  </div>
  <a href="{% url 'marketplace:my_transactions' %}" class="btn-primary" style="display:block; text-align:center;">
    View My Exchanges
  </a>
</div>
{% endblock %}